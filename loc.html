<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="askButton">Ask for location</button>

    <div id="target"></div>

    <script>
        var target = document.getElementById('target');
        var watchId;

        function appendLocation(location, verb) {
            verb = verb || 'updated';
            var newLocation = document.createElement('p');
            newLocation.innerHTML = 'Location ' + verb + ': ' + location.coords.latitude + ', ' + location.coords.longitude + '';
            target.appendChild(newLocation);
        }

        function getLocation() {
            if ('geolocation' in navigator) {
                navigator.geolocation.getCurrentPosition(function (location) {
                    appendLocation(location, 'fetched');
                });
                watchId = navigator.geolocation.watchPosition(appendLocation);
            } else {
                target.innerText = 'Geolocation API not supported.';
            }
        }

        window.addEventListener('load', getLocation);

    </script>
</body>

</html>
